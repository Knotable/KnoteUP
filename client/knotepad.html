<template name="knotePad">
  <div class="pad-container">
    <div class="pad-header">
      {{#unless hasLoggedIn}}
        <i class="login-icon button icon-key">Login</i>
      {{/unless}}
      <input id="pad-subject" type="text" placeholder="What is your agenda?" tabindex='1' value='{{pad.subject}}'>
      <div class="participators">
        {{> participatorsAvatar}}
      </div>
    </div>

    <div class="knote-container">
      <div class="knote-content">
        <textarea class="new-knote-title" placeholder="What is your point?" tabindex="2" spellcheck="false"></textarea>
        <div class="counter pull-right" data-limit-exceed="false">140</div>
        <div class="clearfix"></div>

        <div contenteditable="true" placeholder="If you need to say more." class="new-knote-body" id="knote-body" spellcheck="false" tabindex="3"></div>

        <div class="buttons post-btn-container">
          <input type="button" class="button post-button" value="Post" tabindex="4" disabled>
        </div>
      </div>
    </div>

    {{#each knotes}}
      {{> knote }}
    {{/each}}
  </div>



  {{#if hasLoggedIn}}
    <div class="link-to-knotable">
      <div class="knote-container">
        <div class="knote-content">
          <div class="welcome">
            <p>{{username}}</p>
            <button class="button redirect-to-knotable" tabindex='5'>
              <span>See all knotepads</span>
            </button>
          </div>
        </div>
      </div>
    </div>
  {{/if}}

  {{> addContactPopupBox}}
</template>



<template name="participatorsAvatar">
  <div class="participator add-participator">
    <span class="add-contact account-avatar account-avatar-current">Add</span>
  </div>

  {{#each participators}}
    <div class="participator">
      {{> contactAvatar}}
    </div>
  {{/each}}
</template>



<template name="contactAvatar">
  {{#if hasAvatar}}
    <img class="account-avatar account-avatar-current" data-id="{{_id}}" src="{{avatar.path}}">
  {{else}}
    <span class="account-avatar account-avatar-current {{bgcolor}}" data-id="{{_id}}">{{initialName}}</span>
  {{/if}}
</template>


<template name="addContactPopupBox">
  <div class="addContactPopup">
    <div class="popup popup-container">
      <a class="btn-close close"></a>
      <div class="add-new-users-container">
      Add email addresses:
      <div>
          <input class="emails" type="text" placeholder="Add contacts by email address. Separate with commas.">
      </div>
      <div>
        <input type="button" class="my-btn btn add-new-users" value="+">
        </div>
      </div>
    </div>
  </div>
</template>
