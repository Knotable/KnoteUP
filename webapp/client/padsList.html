<template name="padsList">
  <div id="container">
    <div id="header" class="header">
      {{#if currentUser}}
        <div class="user">
          {{#with currentContact}}
            {{> contactAvatar}}
          {{/with}}
        </div>
        {{> settingDropdown}}
      {{else}}
        <button class="btn login-button">Login</button>
      {{/if}}
      <div class="left-header">
        <a href="#" target="_blank" class="btn redirect-to-knotable" tabindex='5'>
          k
        </a>
        <div class="title" data-latest-id="{{latestPad._id}}">
          {{contentEditableSubject}}
        </div>
        {{#if latestPad}}
          {{#with latestPad}}
            {{> sharePadDropdown}}
          {{/with}}
        {{/if}}
        <i class='icon icon-edit show-compose invisible'></i>
      </div>
    </div>

    <div class="padList">

      <div class="pad currentDatePad">
        <div class="compose">
          <div class="compose-wrapper">
            <div contenteditable="true" class="new-knote-title" placeholder="Take knote" tabindex="1" spellcheck="false"></div>
            <div class="clearfix"></div>
            <div contenteditable="true" class="new-knote-body" spellcheck="false" tabindex="2"></div>
            <div class="post-btn-container">
              <input type="button" class="btn my-btn post-button" value="Post" tabindex="3" disabled>
            </div>
          </div>
        </div>
        {{#with latestPad}}
          <div class="knote-list latest-knotes">
            {{#each knotes}}
              {{> knote}}
            {{/each}}
          </div>
        {{/with}}
      </div>

      {{#each restPads}}
        {{> padItem}}
      {{/each}}

    </div>

  </div>
</template>



<template name="padItem">
  <div class="header padItem" data-subject="{{subject}}" data-id="{{_id}}">
    <div class="subject">
      <a href="{{knotableLink}}" target="_blank" class="min-k-btn btn">k</a>
      <span class="title">{{ subject }}</span>
      {{> sharePadDropdown}}
    </div>
    <div class="divider"></div>
  </div>

  <div class="pad">
    <div class="knote-list">
      {{#each knotes}}
        {{> knote}}
      {{/each}}
    </div>
  </div>
</template>



<template name="sharePadDropdown">
  <div class="share-part" data-id="{{_id}}">
    <button class="btn my-btn share-pad-btn">Share</button>
    <ul class="share-pad-dropdown">
      <li class="share-invite"><i class="icon icon-user"></i>Invite someone</li>
      <li class="share-link"><i class="icon icon-link"></i>Share this link</li>
      <li class="share-slack"><i class="icon icon-slack"></i>Post to Slack</li>
    </ul>
  </div>
</template>



<template name="settingDropdown">
  <ul id="setting-dropdown">
    <li><a href="http://beta.knotable.com/settings" target="_blank"><i class="icon icon-info"></i>Knotable Settings</a></li>
    <li><a href="#" class="logout"><i class="icon icon-logout"></i>Logout</a></li>
  </ul>
</template>
